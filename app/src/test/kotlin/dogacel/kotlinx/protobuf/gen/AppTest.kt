/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package dogacel.kotlinx.protobuf.gen

import com.google.protobuf.compiler.codeGeneratorRequest
import com.google.protobuf_test_messages.proto3.TestMessagesProto3
import kotlin.test.Test

class AppTest {
    @Test
    fun shouldWork() {
        val codeGenerator = CodeGenerator(test.Test.getDescriptor())
        codeGenerator.generate()
    }

    @Test
    fun conformance() {
        val codeGenerator = CodeGenerator(TestMessagesProto3.getDescriptor())
        codeGenerator.generate()
    }

    @Test
    fun classSpecs() {
        val specs = CodeGen.buildClassSpecs(
            test.Test.getDescriptor()
//            com.google.protobuf_test_messages.proto3.TestMessagesProto3.getDescriptor()
        )

        specs.forEach { (descriptor, className) ->
            println(descriptor.fullName)
            println(className)
        }
    }
}
